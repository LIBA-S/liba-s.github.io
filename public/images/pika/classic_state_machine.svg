<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- 由 Microsoft Visio, SVG Export 生成 classic_state_machine.svg Page-1 -->
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ev="http://www.w3.org/2001/xml-events"
		xmlns:v="http://schemas.microsoft.com/visio/2003/SVGExtensions/" width="11.6929in" height="16.0354in"
		viewBox="0 0 841.89 1154.55" xml:space="preserve" color-interpolation-filters="sRGB" class="st12">
	<v:documentProperties v:langID="2052" v:metric="true" v:viewMarkup="false">
		<v:userDefs>
			<v:ud v:nameU="msvNoAutoConnect" v:val="VT0(1):26"/>
		</v:userDefs>
	</v:documentProperties>

	<style type="text/css">
	<![CDATA[
		.st1 {fill:#ffffff;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75}
		.st2 {marker-end:url(#mrkr5-8);stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75}
		.st3 {fill:#000000;fill-opacity:1;stroke:#000000;stroke-opacity:1;stroke-width:0.22935779816514}
		.st4 {fill:#ffffff;stroke:none;stroke-linecap:butt;stroke-width:7.2}
		.st5 {fill:#000000;font-family:Times New Roman;font-size:1.00001em}
		.st6 {fill:#000000;font-family:Times New Roman;font-size:1.00001em;font-weight:bold}
		.st7 {font-size:1em}
		.st8 {marker-end:url(#mrkr13-35);stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75}
		.st9 {fill:#ffffff;stroke:none;stroke-linecap:butt}
		.st10 {fill:none;stroke:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75}
		.st11 {font-family:宋体;font-size:1em}
		.st12 {fill:none;fill-rule:evenodd;font-size:12px;overflow:visible;stroke-linecap:square;stroke-miterlimit:3}
	]]>
	</style>

	<defs id="Markers">
		<g id="lend5">
			<path d="M 2 1 L 0 0 L 1.98117 -0.993387 C 1.67173 -0.364515 1.67301 0.372641 1.98465 1.00043 " style="stroke:none"/>
		</g>
		<marker id="mrkr5-8" class="st3" v:arrowType="5" v:arrowSize="2" v:setback="7.63" refX="-7.63" orient="auto"
				markerUnits="strokeWidth" overflow="visible">
			<use xlink:href="#lend5" transform="scale(-4.36,-4.36) "/>
		</marker>
		<g id="lend13">
			<path d="M 3 1 L 0 0 L 3 -1 L 3 1 " style="stroke:none"/>
		</g>
		<marker id="mrkr13-35" class="st3" v:arrowType="13" v:arrowSize="2" v:setback="13.08" refX="-13.08" orient="auto"
				markerUnits="strokeWidth" overflow="visible">
			<use xlink:href="#lend13" transform="scale(-4.36,-4.36) "/>
		</marker>
	</defs>
	<g v:mID="0" v:index="1" v:groupContext="foregroundPage">
		<title>页-1</title>
		<v:pageProperties v:drawingScale="0.0393701" v:pageScale="0.0393701" v:drawingUnits="24" v:shadowOffsetX="8.50394"
				v:shadowOffsetY="-8.50394"/>
		<v:layer v:name="连接线" v:index="0"/>
		<g id="shape1-1" v:mID="1" v:groupContext="shape" transform="translate(221.056,-1091.34)">
			<title>初始状态</title>
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<ellipse cx="8.52064" cy="1147.46" rx="8.52064" ry="7.08661" class="st1"/>
		</g>
		<g id="shape3-3" v:mID="3" v:groupContext="shape" v:layerMember="0" transform="translate(222.49,-1091.34)">
			<title>动态连接线</title>
			<desc>Start node</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="7.08661" cy="1178.15" width="60.01" height="22.4037"/>
			<path d="M7.09 1154.55 L7.09 1196.03" class="st2"/>
			<rect v:rectContext="textBkgnd" x="-17.409" y="1170.95" width="48.9911" height="14.4001" class="st4"/>
			<text x="-17.41" y="1181.75" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Start node</text>		</g>
		<g id="group4-11" transform="translate(170.079,-999.325)" v:mID="4" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>状态</title>
			<g id="shape4-12" v:mID="4" v:groupContext="groupContent">
				<rect x="0" y="1109.74" width="118.995" height="44.8074" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape5-14" v:mID="5" v:groupContext="shape" transform="translate(0,-22.4037)">
				<title>工作表.5</title>
				<desc>NoConnect</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="59.4975" cy="1143.35" width="119" height="22.4037"/>
				<path d="M8.5 1154.55 L110.49 1154.55 A8.50394 8.50394 -180 0 0 118.99 1146.05 L118.99 1140.65 A8.50394 8.50394 -180
							 0 0 110.49 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="30.83" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>NoConnect</text>			</g>
			<g id="shape6-17" v:mID="6" v:groupContext="shape">
				<title>工作表.6</title>
				<desc>do/ nothing need to do</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="59.4975" cy="1143.35" width="119" height="22.4037"/>
				<path d="M8.5 1154.55 L110.49 1154.55 A8.50394 8.50394 -180 0 0 118.99 1146.05 L118.99 1140.65 A8.50394 8.50394 -180
							 0 0 110.49 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1146.95" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>do/ nothing need to do</text>			</g>
		</g>
		<g id="group10-20" transform="translate(437.561,-992.125)" v:mID="10" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>内部行为与状态</title>
			<g id="shape10-21" v:mID="10" v:groupContext="groupContent">
				<rect x="0" y="1095.34" width="149.323" height="59.2075" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape11-23" v:mID="11" v:groupContext="shape" transform="translate(0,-36.8038)">
				<title>工作表.11</title>
				<desc>ShouldMetaSync</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="74.6613" cy="1143.35" width="149.33" height="22.4037"/>
				<path d="M8.5 1154.55 L140.82 1154.55 A8.50394 8.50394 -180 0 0 149.32 1146.05 L149.32 1140.65 A8.50394 8.50394 -180
							 0 0 140.82 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="30.99" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>ShouldMetaSync</text>			</g>
			<g id="shape12-26" v:mID="12" v:groupContext="shape">
				<title>工作表.12</title>
				<desc>entry / change role to slave do / send MetaSyncReq to A</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="74.6613" cy="1136.15" width="149.33" height="36.8038"/>
				<path d="M8.5 1154.55 L140.82 1154.55 A8.50394 8.50394 -180 0 0 149.32 1146.05 L149.32 1126.25 A8.50394 8.50394 -180
							 0 0 140.82 1117.75 L8.5 1117.75 A8.50394 8.50394 -180 0 0 0 1126.25 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1132.55" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>entry / change role to slave<v:newlineChar/><tspan
							x="4" dy="1.2em" class="st7">do </tspan>/ send MetaSyncReq to A</text>			</g>
		</g>
		<g id="shape19-30" v:mID="19" v:groupContext="shape" v:layerMember="0" transform="translate(586.884,-1021.73)">
			<title>动态连接线.19</title>
			<desc>Timeout</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="2.1567" cy="1105.18" width="60.01" height="22.4037"/>
			<path d="M0 1154.55 L24.69 1154.55 L24.69 1105.18 L-74.66 1105.18 L-74.66 1115.14" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-18.1726" y="1097.98" width="40.6588" height="14.4001" class="st4"/>
			<text x="-18.17" y="1108.78" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Timeout</text>		</g>
		<g id="shape43-38" v:mID="43" v:groupContext="shape" v:layerMember="0" transform="translate(289.074,-1014.64)">
			<title>动态连接线.43</title>
			<desc>Slave Of A / Start as slave</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="74.2437" cy="1147.46" width="137.65" height="22.4037"/>
			<path d="M0 1147.46 L138.68 1147.46" class="st8"/>
			<rect v:rectContext="textBkgnd" x="10.9237" y="1140.26" width="126.64" height="14.4001" class="st4"/>
			<text x="10.92" y="1151.06" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Slave Of A / Start as slave</text>		</g>
		<g id="group44-45" transform="translate(409.412,-878.955)" v:mID="44" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>内部行为与状态.44</title>
			<g id="shape44-46" v:mID="44" v:groupContext="groupContent">
				<rect x="0" y="1095.34" width="205.62" height="59.2075" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape45-48" v:mID="45" v:groupContext="shape" transform="translate(0,-36.8038)">
				<title>工作表.45</title>
				<desc>MetaSyncDone</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="102.81" cy="1143.35" width="205.63" height="22.4037"/>
				<path d="M8.5 1154.55 L197.12 1154.55 A8.50394 8.50394 -180 0 0 205.62 1146.05 L205.62 1140.65 A8.50394 8.50394 -180
							 0 0 197.12 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 -0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="63.82" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>MetaSyncDone</text>			</g>
			<g id="shape46-51" v:mID="46" v:groupContext="shape">
				<title>工作表.46</title>
				<desc>entry / finish meta sync do / for every partition invoke Setm...</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="102.81" cy="1136.15" width="205.63" height="36.8038"/>
				<path d="M8.5 1154.55 L197.12 1154.55 A8.50394 8.50394 -180 0 0 205.62 1146.05 L205.62 1126.25 A8.50394 8.50394 -180
							 0 0 197.12 1117.75 L8.5 1117.75 A8.50394 8.50394 -180 0 0 -0 1126.25 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1132.55" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>entry / finish meta sync<v:newlineChar/><tspan
							x="4" dy="1.2em" class="st7">do </tspan>/ for every partition invoke Setmaster</text>			</g>
		</g>
		<g id="shape47-55" v:mID="47" v:groupContext="shape" v:layerMember="0" transform="translate(505.136,-992.125)">
			<title>动态连接线.47</title>
			<desc>Receive MetaSyncRes from A</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="7.08661" cy="1181.53" width="157.3" height="22.4037"/>
			<path d="M7.09 1154.55 L7.09 1198.7" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-66.0596" y="1174.33" width="146.293" height="14.4001" class="st4"/>
			<text x="-66.06" y="1185.13" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Receive MetaSyncRes from A</text>		</g>
		<g id="shape48-62" v:mID="48" v:groupContext="shape" v:layerMember="0" transform="translate(512.222,-878.955)">
			<title>动态连接线.48</title>
			<desc>Connection lose</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="196.439" cy="1141.67" width="88.66" height="22.4037"/>
			<path d="M0 1154.55 L0 1165.18 L196.44 1165.18 L196.44 1032.88 L84.47 1032.88" class="st8"/>
			<rect v:rectContext="textBkgnd" x="157.611" y="1134.47" width="77.656" height="14.4001" class="st4"/>
			<text x="157.61" y="1145.27" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Connection lose</text>		</g>
		<g id="group65-69" transform="translate(329.905,-718.26)" v:mID="65" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>状态.65</title>
			<g id="shape65-70" v:mID="65" v:groupContext="groupContent">
				<rect x="0" y="1114.54" width="70.8661" height="40.0073" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape66-72" v:mID="66" v:groupContext="shape" transform="translate(0,-17.6036)">
				<title>工作表.66</title>
				<desc>NoConnect</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="35.4331" cy="1143.35" width="70.87" height="22.4037"/>
				<path d="M8.5 1154.55 L62.36 1154.55 A8.50394 8.50394 -180 0 0 70.87 1146.05 L70.87 1140.65 A8.50394 8.50394 -180
							 0 0 62.36 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 -0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="6.77" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>NoConnect</text>			</g>
		</g>
		<g id="shape70-75" v:mID="70" v:groupContext="shape" v:layerMember="0" transform="translate(358.251,-718.26)">
			<title>动态连接线.70</title>
			<desc>Set follower of other</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="7.08661" cy="1190.57" width="110.65" height="22.4037"/>
			<path d="M7.09 1154.55 L7.09 1216.78" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-42.7333" y="1183.37" width="99.64" height="14.4001" class="st9"/>
			<text x="-42.73" y="1194.17" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Set follower of other</text>		</g>
		<g id="shape71-82" v:mID="71" v:groupContext="shape" transform="translate(345.495,-615.873)">
			<title>选择</title>
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<path d="M19.84 1154.55 L39.69 1139.38 L19.84 1124.2 L0 1139.38 L19.84 1154.55 Z" class="st1"/>
		</g>
		<g id="shape110-84" v:mID="110" v:groupContext="shape" v:layerMember="0" transform="translate(365.338,-615.873)">
			<title>动态连接线.110</title>
			<desc>Force db sync</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="-42.1864" cy="1232.39" width="78.33" height="22.4037"/>
			<path d="M0 1154.55 L0 1232.39 L-145.3 1232.39 L-145.3 1239.49" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-75.8461" y="1225.19" width="67.3195" height="14.4001" class="st9"/>
			<text x="-75.85" y="1235.99" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Force db sync</text>		</g>
		<g id="shape113-91" v:mID="113" v:groupContext="shape" v:layerMember="0" transform="translate(365.338,-615.873)">
			<title>动态连接线.113</title>
			<desc>No Force db sync</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="125.673" cy="1165.18" width="95.99" height="22.4037"/>
			<path d="M0 1154.55 L0 1165.18 L177.86 1165.18 L177.86 1239.49" class="st8"/>
			<rect v:rectContext="textBkgnd" x="83.1807" y="1157.98" width="84.9858" height="14.4001" class="st4"/>
			<text x="83.18" y="1168.78" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>No Force db sync</text>		</g>
		<g id="group114-98" transform="translate(454.708,-461.915)" v:mID="114" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>状态.114</title>
			<g id="shape114-99" v:mID="114" v:groupContext="groupContent">
				<rect x="0" y="1095.34" width="176.973" height="59.2075" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape115-101" v:mID="115" v:groupContext="shape" transform="translate(0,-36.8038)">
				<title>工作表.115</title>
				<desc>TrySync</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="88.4865" cy="1143.35" width="176.98" height="22.4037"/>
				<path d="M8.5 1154.55 L168.47 1154.55 A8.50394 8.50394 -180 0 0 176.97 1146.05 L176.97 1140.65 A8.50394 8.50394 -180
							 0 0 168.47 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="66.48" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>TrySync</text>			</g>
			<g id="shape116-104" v:mID="116" v:groupContext="shape">
				<title>工作表.116</title>
				<desc>entry / SendTrySyncReq to master do / change state to TrySync...</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="88.4865" cy="1136.15" width="176.98" height="36.8038"/>
				<path d="M8.5 1154.55 L168.47 1154.55 A8.50394 8.50394 -180 0 0 176.97 1146.05 L176.97 1126.25 A8.50394 8.50394 -180
							 0 0 168.47 1117.75 L8.5 1117.75 A8.50394 8.50394 -180 0 0 0 1126.25 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1132.55" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>entry / SendTrySyncReq to master<v:newlineChar/><tspan
							x="4" dy="1.2em" class="st7">do </tspan>/ change state to TrySyncSent</text>			</g>
		</g>
		<g id="group117-108" transform="translate(113.386,-447.515)" v:mID="117" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>状态.117</title>
			<g id="shape117-109" v:mID="117" v:groupContext="groupContent">
				<rect x="0" y="1080.94" width="213.308" height="73.6076" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape118-111" v:mID="118" v:groupContext="shape" transform="translate(0,-51.2039)">
				<title>工作表.118</title>
				<desc>TrySnapshotSync</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="106.654" cy="1143.35" width="213.31" height="22.4037"/>
				<path d="M8.5 1154.55 L204.8 1154.55 A8.50394 8.50394 -180 0 0 213.31 1146.05 L213.31 1140.65 A8.50394 8.50394 -180
							 0 0 204.8 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="60.97" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>TrySnapshotSync</text>			</g>
			<g id="shape119-114" v:mID="119" v:groupContext="shape">
				<title>工作表.119</title>
				<desc>entry / SendTrySnapshotSyncReq to master do / change state to...</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="106.654" cy="1128.95" width="213.31" height="51.2039"/>
				<path d="M8.5 1154.55 L204.8 1154.55 A8.50394 8.50394 -180 0 0 213.31 1146.05 L213.31 1111.85 A8.50394 8.50394 -180
							 0 0 204.8 1103.35 L8.5 1103.35 A8.50394 8.50394 -180 0 0 0 1111.85 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1118.15" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>entry / SendTrySnapshotSyncReq<v:newlineChar/><tspan
							x="4" dy="1.2em" class="st7">            </tspan>to master<v:newlineChar/><tspan x="4" dy="1.2em"
							class="st7">do </tspan>/ change state to TrySnapshotSyncSent</text>			</g>
		</g>
		<g id="shape127-119" v:mID="127" v:groupContext="shape" v:layerMember="0" transform="translate(212.953,-447.515)">
			<title>动态连接线.127</title>
			<desc>Receive Response</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="7.08661" cy="1196.89" width="98.65" height="22.4037"/>
			<path d="M7.09 1154.55 L7.09 1229.41" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-36.7333" y="1189.69" width="87.6401" height="14.4001" class="st4"/>
			<text x="-36.73" y="1200.49" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Receive Response</text>		</g>
		<g id="group177-126" transform="translate(116.395,-303.637)" v:mID="177" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>状态.124</title>
			<g id="shape177-127" v:mID="177" v:groupContext="groupContent">
				<rect x="0" y="1095.34" width="207.29" height="59.2075" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape178-129" v:mID="178" v:groupContext="shape" transform="translate(0,-36.8038)">
				<title>工作表.178</title>
				<desc>WaitSnapshotReceived</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="103.645" cy="1143.35" width="207.3" height="22.4037"/>
				<path d="M8.5 1154.55 L198.79 1154.55 A8.50394 8.50394 -180 0 0 207.29 1146.05 L207.29 1140.65 A8.50394 8.50394 -180
							 0 0 198.79 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 -0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="44.31" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>WaitSnapshotReceived</text>			</g>
			<g id="shape179-132" v:mID="179" v:groupContext="shape">
				<title>工作表.179</title>
				<desc>entry / check if SnapshotSync completed periodically</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="103.645" cy="1136.15" width="207.3" height="36.8038"/>
				<path d="M8.5 1154.55 L198.79 1154.55 A8.50394 8.50394 -180 0 0 207.29 1146.05 L207.29 1126.25 A8.50394 8.50394 -180
							 0 0 198.79 1117.75 L8.5 1117.75 A8.50394 8.50394 -180 0 0 -0 1126.25 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1132.55" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>entry / check if SnapshotSync completed<v:newlineChar/><tspan
							x="4" dy="1.2em" class="st7">           </tspan>p<tspan class="st7" v:langID="1033">eriodically</tspan></text>			</g>
		</g>
		<g id="shape186-137" v:mID="186" v:groupContext="shape" v:layerMember="0" transform="translate(323.685,-333.24)">
			<title>动态连接线.186</title>
			<desc>Snapshot received success</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="61.4951" cy="1071.4" width="137.64" height="22.4037"/>
			<path d="M0 1154.55 L61.5 1154.55 L61.5 996.27 L121.21 996.27" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-1.81924" y="1064.2" width="126.629" height="14.4001" class="st4"/>
			<text x="-1.82" y="1075" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Snapshot received success</text>		</g>
		<g id="shape187-144" v:mID="187" v:groupContext="shape" transform="translate(523.352,-318.065)">
			<title>选择.187</title>
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<path d="M19.84 1154.55 L39.69 1139.38 L19.84 1124.2 L0 1139.38 L19.84 1154.55 Z" class="st1"/>
		</g>
		<g id="shape188-146" v:mID="188" v:groupContext="shape" v:layerMember="0" transform="translate(536.108,-461.915)">
			<title>动态连接线.188</title>
			<desc>Received Response</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="7.08661" cy="1211.3" width="104.65" height="22.4037"/>
			<path d="M7.09 1154.55 L7.09 1258.24" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-39.7334" y="1204.1" width="93.6403" height="14.4001" class="st4"/>
			<text x="-39.73" y="1214.9" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Received Response</text>		</g>
		<g id="group189-153" transform="translate(452.864,-152.559)" v:mID="189" v:groupContext="group">
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<title>状态.189</title>
			<g id="shape189-154" v:mID="189" v:groupContext="groupContent">
				<rect x="0" y="1109.74" width="180.66" height="44.8074" rx="8.50394" ry="8.50394" class="st1"/>
			</g>
			<g id="shape190-156" v:mID="190" v:groupContext="shape" transform="translate(0,-22.4037)">
				<title>工作表.190</title>
				<desc>BinlogSync</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Title)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="90.3298" cy="1143.35" width="180.66" height="22.4037"/>
				<path d="M8.5 1154.55 L172.16 1154.55 A8.50394 8.50394 -180 0 0 180.66 1146.05 L180.66 1140.65 A8.50394 8.50394 -180
							 0 0 172.16 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 -0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="61.32" y="1146.95" class="st6" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>BinlogSync</text>			</g>
			<g id="shape191-159" v:mID="191" v:groupContext="shape">
				<title>工作表.191</title>
				<desc>do / send BinlogSyncReq to master</desc>
				<v:userDefs>
					<v:ud v:nameU="UmlRole" v:prompt="" v:val="VT4(Body)"/>
				</v:userDefs>
				<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
				<v:textRect cx="90.3298" cy="1143.35" width="180.66" height="22.4037"/>
				<path d="M8.5 1154.55 L172.16 1154.55 A8.50394 8.50394 -180 0 0 180.66 1146.05 L180.66 1140.65 A8.50394 8.50394 -180
							 0 0 172.16 1132.15 L8.5 1132.15 A8.50394 8.50394 -180 0 0 -0 1140.65 L0 1146.05 A8.50394 8.50394 -180
							 0 0 8.5 1154.55 Z" class="st1"/>
				<text x="4" y="1146.95" class="st5" v:langID="2052"><v:paragraph/><v:tabList/>do / send BinlogSyncReq to master</text>			</g>
		</g>
		<g id="shape192-162" v:mID="192" v:groupContext="shape" v:layerMember="0" transform="translate(536.108,-318.065)">
			<title>动态连接线.192</title>
			<desc>Log is matched</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="7.08661" cy="1214.9" width="84.99" height="22.4037"/>
			<path d="M7.09 1154.55 L7.09 1265.44" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-29.9041" y="1207.7" width="73.9817" height="14.4001" class="st4"/>
			<text x="-29.9" y="1218.5" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Log is matched</text>		</g>
		<g id="shape193-169" v:mID="193" v:groupContext="shape" v:layerMember="0" transform="translate(543.194,-152.559)">
			<title>动态连接线.193</title>
			<desc>Receive BinlogSyncResp</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="134.007" cy="1175.81" width="133.33" height="22.4037"/>
			<path d="M0 1154.55 L0 1175.81 L167.97 1175.81 L167.97 1132.15 L100.14 1132.15" class="st8"/>
			<rect v:rectContext="textBkgnd" x="72.8491" y="1168.61" width="122.317" height="14.4001" class="st4"/>
			<text x="72.85" y="1179.41" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Receive BinlogSyncResp</text>		</g>
		<g id="shape194-176" v:mID="194" v:groupContext="shape" v:layerMember="0" transform="translate(543.194,-318.065)">
			<title>动态连接线.194</title>
			<desc>Log is purged</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="-239.396" cy="1192.52" width="77.67" height="22.4037"/>
			<path d="M0 1154.55 L0 1192.52 L-445.21 1192.52 L-445.21 1139.38 L-436.61 1139.38" class="st8"/>
			<rect v:rectContext="textBkgnd" x="-272.725" y="1185.32" width="66.6576" height="14.4001" class="st4"/>
			<text x="-272.72" y="1196.12" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>Log is purged</text>		</g>
		<g id="shape196-183" v:mID="196" v:groupContext="shape" transform="translate(356.817,-779.528)">
			<title>初始状态.196</title>
			<v:userDefs>
				<v:ud v:nameU="visVersion" v:prompt="" v:val="VT0(15):26"/>
			</v:userDefs>
			<ellipse cx="8.52064" cy="1147.46" rx="8.52064" ry="7.08661" class="st1"/>
		</g>
		<g id="shape197-185" v:mID="197" v:groupContext="shape" v:layerMember="0" transform="translate(358.251,-779.528)">
			<title>动态连接线.197</title>
			<path d="M7.09 1154.55 L7.09 1170.09" class="st2"/>
		</g>
		<g id="shape198-190" v:mID="198" v:groupContext="shape" transform="translate(204.094,-807.874)">
			<title>工作表.198</title>
			<desc>(1master_slave_controller state-machine</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="145.984" cy="1133.29" width="291.97" height="42.5197"/>
			<rect x="0" y="1112.03" width="291.969" height="42.5197" class="st10"/>
			<text x="42.52" y="1137.24" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>(1<tspan
						class="st11">）</tspan>master_slave_controller state-machine</text>		</g>
		<g id="shape200-194" v:mID="200" v:groupContext="shape" transform="translate(249.117,-57.8643)">
			<title>工作表.200</title>
			<desc>(2state-machine when ClassicRGNode in Slave state</desc>
			<v:textBlock v:margins="rect(4,4,4,4)" v:tabSpace="42.5197"/>
			<v:textRect cx="145.984" cy="1133.29" width="291.97" height="42.5197"/>
			<rect x="0" y="1112.03" width="291.969" height="42.5197" class="st10"/>
			<text x="13.52" y="1137.24" class="st5" v:langID="2052"><v:paragraph v:horizAlign="1"/><v:tabList/>(2<tspan
						class="st11">）</tspan>state-machine when ClassicRGNode in Slave state</text>		</g>
	</g>
</svg>
